<!doctype html>
<html
  lang="en"
  data-theme="light"
>
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1"
    />
    <meta
      name="description"
      content="The stackiest stack of all web stacks!"
    />

    <meta
      name="twitter:image"
      content="/og.png"
    />
    <meta
      name="twitter:card"
      content="summary_large_image"
    />
    <meta
      name="twitter:title"
      content="Megastack"
    />
    <meta
      name="twitter:description"
      content="The stackiest stack of all web stacks!"
    />
    <meta
      name="twitter:creator"
      content="@smikhalevski"
    />
    <meta
      name="twitter:site"
      content="@smikhalevski"
    />

    <meta
      property="og:image"
      content="/og.png"
    />
    <meta
      property="og:type"
      content="website"
    />
    <meta
      property="og:title"
      content="Megastack"
    />
    <meta
      property="og:description"
      content="The stackiest stack of all web stacks!"
    />

    <title>Megastack</title>
    <style>
      :root {
        --fontStack:
          -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Noto Sans', Helvetica, Arial, sans-serif, 'Apple Color Emoji',
          'Segoe UI Emoji', sans-serif;
        --fontStack-monospace: ui-monospace, SFMono-Regular, SF Mono, Menlo, Consolas, Liberation Mono, monospace;
      }

      [data-theme='light'] {
        color-scheme: light;

        --fgColor-default: #1f2328;
        --bgColor-default: #ffffff;
      }

      [data-theme='dark'] {
        color-scheme: dark;

        --fgColor-default: #f0f6fc;
        --bgColor-default: #0d1117;
      }

      html {
        display: flex;
        min-height: 100%;
      }

      body {
        display: flex;
        width: 100%;
        min-height: fit-content;
        margin: 0;
        color: var(--fgColor-default);
        background-color: var(--bgColor-default);
        font: normal normal 16px / 1.5 var(--fontStack);
        word-wrap: break-word;
        text-size-adjust: 100%;
        -ms-text-size-adjust: 100%;
        -webkit-text-size-adjust: 100%;
      }

      .spinner {
        flex: 1 1 auto;
        display: grid;
        place-content: center;
        font: normal normal 3rem / 1 var(--fontStack-monospace);
      }

      .spinner:after {
        content: '';
        animation: ascii-spinner 1s linear infinite;
        white-space: pre;
      }

      /* prettier-ignore */
      @keyframes ascii-spinner {
          0% { content: '⣷'}
         14% { content: '⣯'}
         28% { content: '⣟'}
         43% { content: '⡿'}
         57% { content: '⢿'}
         71% { content: '⣻'}
         85% { content: '⣽'}
        100% { content: '⣾'}
      }
    </style>
    <script>
      (() => {
        function handleThemeChange() {
          const theme = localStorage.getItem('theme');

          document.documentElement.setAttribute(
            'data-theme',
            theme === 'dark' || theme === 'light' ? theme : darkSchemeMediaQuery.matches ? 'dark' : 'light'
          );
        }

        const darkSchemeMediaQuery = window.matchMedia('(prefers-color-scheme: dark)');

        darkSchemeMediaQuery.addEventListener('change', handleThemeChange);

        window.addEventListener('themechange', handleThemeChange);

        handleThemeChange();
      })();
    </script>
    <script
      src="./index.tsx"
      type="module"
    ></script>
    <link
      rel="icon"
      type="image/x-icon"
      href="/favicon-light.ico"
    />
    <link
      rel="icon"
      type="image/x-icon"
      href="/favicon-dark.ico"
      media="(prefers-color-scheme:dark)"
    />
    <link
      rel="icon"
      type="image/x-icon"
      href="/favicon-light.ico"
      media="(prefers-color-scheme:light)"
    />
  </head>
  <body>
    <div class="spinner"></div>
  </body>
</html>
